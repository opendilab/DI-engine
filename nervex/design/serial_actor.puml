@startuml
start
#orange:policy init_setting_from_cfg;
#pink:env reset;
repeat
  #orange:policy data_preprocess;
  #orange:policy forward_with_obs;
  #orange:policy data_postprocess;
  #pink:env step_with_action;
  #orange:policy process_transition;
  :actor save_transition_temporally;
  if (env i is done?) then (yes)
    #pink:env reset_i;
    #orange:polcy callback_env_done_i;
    :actor log_episode_result;
    #orange:policy get_trajectory_with_transition;
    :actor save_traj_to_buffer;
  endif
  if (transition number is enought) then (yes)
    #orange:policy get_trajectory_with_transition;
    :actor save_traj_to_buffer;
  endif
  :actor log_statistics_data;
repeat while (generated traj data is not enough?)

stop
@enduml
