

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>How to understand training generated folders? &mdash; nerveX 0.2.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="How to use multiple buffers?" href="multi_buffer.html" />
    <link rel="prev" title="Customization 1: Dynamic Update Step" href="customization1_dynamic_update_step.html" />
    <link href="../_static/css/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> nerveX
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/index.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../key_concept/index.html">Key Concept</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro_rl/index.html">Introduction to RL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hands_on/index.html">Hands on RL</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Best Practice</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="nstep_td.html">N-step TD</a></li>
<li class="toctree-l2"><a class="reference internal" href="priority.html">How to Use PER(Prioritized Experience Replay)</a></li>
<li class="toctree-l2"><a class="reference internal" href="log.html">Log and Tensorboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="IL.html">Imitation Learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="IRL.html">Inverse RL</a></li>
<li class="toctree-l2"><a class="reference internal" href="rnn.html">How to use RNN</a></li>
<li class="toctree-l2"><a class="reference internal" href="random_seed.html">Random seed</a></li>
<li class="toctree-l2"><a class="reference internal" href="multi_discrete.html">Multi-Discrete Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="model_wrapper.html">How to Customize Model Wrapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="env_wrapper.html">How to Customize an Env Wrapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="registry.html">Registry</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization1_dynamic_update_step.html">Customization 1: Dynamic Update Step</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">How to understand training generated folders?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#serial-mode">Serial mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parallel-mode">Parallel mode</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="multi_buffer.html">How to use multiple buffers?</a></li>
<li class="toctree-l2"><a class="reference internal" href="random_collect_size.html">How to randomly collect some data sample at the beginning?</a></li>
<li class="toctree-l2"><a class="reference internal" href="irregular_learner_log.html">How to correctly print irregular log?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api_doc/index.html">API Doc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../feature/index.html">Feature</a></li>
<li class="toctree-l1"><a class="reference internal" href="../supplementary_rl/index.html">Supplementary of RL</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../guide/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial_dev/index.html">Tutorial-Developer</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">nerveX</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Best Practice</a> &raquo;</li>
        
      <li>How to understand training generated folders?</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/best_practice/training_generated_folders.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="how-to-understand-training-generated-folders">
<h1>How to understand training generated folders?<a class="headerlink" href="#how-to-understand-training-generated-folders" title="Permalink to this headline">¶</a></h1>
<p>nerveX generates many folders during training:</p>
<blockquote>
<div><ul class="simple">
<li><p>In <strong>serial</strong> mode, nerveX generates log and checkpoint folders.</p></li>
<li><p>In <strong>parallel</strong> mode, nerveX generates log, checkpoint, data and policy folders.</p></li>
</ul>
</div></blockquote>
<p>We will introduce these two modes one by one.</p>
<div class="section" id="serial-mode">
<h2>Serial mode<a class="headerlink" href="#serial-mode" title="Permalink to this headline">¶</a></h2>
<p>In serial mode, generated file tree is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>./
├── log
│   ├── buffer
│   │   └── agent_buffer_logger.txt
│   ├── collector
│   │   └── collect_logger.txt
│   ├── evaluator
│   │   └──  evaluator_logger.txt
│   ├── learner
│   │   └── learner_logger.txt
│   └── serial
└── ckpt_baseLearner_ (ckpt_BaseLearner_Mon_May_24_12_08_43_2021)
    └── ckpt_best.pth.tar
</pre></div>
</div>
<ul>
<li><p>log/buffer</p>
<blockquote>
<div><p>In buffer folder, there is a file named <code class="docutils literal notranslate"><span class="pre">agent_buffer_logger.txt</span></code> including some information about the data usage in the buffer.</p>
<p>After a certain number of sample times, sample information will be printed to display the attributes of the sampled data, which demonstrating data quality. The table is like this:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 7%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 15%" />
<col style="width: 15%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Name</p></td>
<td><p>use_avg</p></td>
<td><p>use_max</p></td>
<td><p>priority_avg</p></td>
<td><p>priority_max</p></td>
<td><p>priority_min</p></td>
<td><p>staleness_avg</p></td>
<td><p>staleness_max</p></td>
</tr>
<tr class="row-even"><td><p>Value</p></td>
<td><p>float</p></td>
<td><p>int</p></td>
<td><p>float</p></td>
<td><p>float</p></td>
<td><p>float</p></td>
<td><p>float</p></td>
<td><p>float</p></td>
</tr>
</tbody>
</table>
<p>After a certain number of seconds, throughput information(number of push, sample, remove, valid) will be printed like this:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 22%" />
<col style="width: 22%" />
<col style="width: 22%" />
<col style="width: 22%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Name</p></td>
<td><p>pushed_in</p></td>
<td><p>sampled_out</p></td>
<td><p>removed</p></td>
<td><p>current_have</p></td>
</tr>
<tr class="row-even"><td><p>Value</p></td>
<td><p>float</p></td>
<td><p>float</p></td>
<td><p>float</p></td>
<td><p>float</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</li>
<li><p>log/collector</p>
<blockquote>
<div><p>In collector folder, there is a file named <code class="docutils literal notranslate"><span class="pre">collector_logger.txt</span></code> including some information about the interaction with the environment.</p>
<ul class="simple">
<li><p>Set default n_sample mode. The collector’s basic information: n_sample and env_num. n_sample means the number of data samples collected. For env_num, it means how many environments the collector will interact with.</p></li>
</ul>
<p>This information is only appears in the first line.</p>
<ul>
<li><p>Special information when the collector interact with the environment,such as</p>
<blockquote>
<div><ul class="simple">
<li><p>episode_count: The count of collecting data episode</p></li>
<li><p>envstep_count: The count of collecting data envstep</p></li>
<li><p>train_sample_count: The count of train sample data</p></li>
<li><p>avg_envstep_per_episode: Average envstep per eposide</p></li>
<li><p>avg_sample_per_episode: Average sample num per eposide</p></li>
<li><p>avg_envstep_per_sec: Average envstep per second</p></li>
<li><p>avg_train_sample_per_sec: Average train sample per second</p></li>
<li><p>avg_episode_per_sec: Average eposide per second</p></li>
<li><p>collect_time: How much time did the collector spend</p></li>
<li><p>reward_mean: Average reward</p></li>
<li><p>reward_std: The reward’s standard deviation</p></li>
<li><p>each_reward: Each reward when the collector interact with an environment.</p></li>
<li><p>reward_max: The max reward</p></li>
<li><p>reward_min: The min reward</p></li>
<li><p>total_envstep_count: Total envstep number</p></li>
<li><p>total_train_sample_count: Total train sample number</p></li>
<li><p>total_episode_count: Total episode number</p></li>
<li><p>total_duration: Total duration</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>log/evaluator</p>
<blockquote>
<div><p>In evaluator folder, there is a file named <code class="docutils literal notranslate"><span class="pre">evaluator_logger.txt</span></code> including some information about the evaluator when collector interacts with the environment.</p>
<ul class="simple">
<li><p>[INFO]: env finish episode, final reward: xxx, current episode: xxx</p></li>
<li><p>train_iter: The train iter</p></li>
<li><p>ckpt_name: The model path, such as iteration_0.pth.tar</p></li>
<li><p>episode_count: The count of episode</p></li>
<li><p>envstep_count: The count of envstep</p></li>
<li><p>evaluate_time: How much time did the evaluator spend</p></li>
<li><p>avg_envstep_per_episode: Average envstep per eposide</p></li>
<li><p>avg_envstep_per_sec: Average envstep per second</p></li>
<li><p>avg_time_per_episode: Average time per eposide</p></li>
<li><p>reward_mean: Average reward</p></li>
<li><p>reward_std: The reward’s standard deviation</p></li>
<li><p>each_reward: Each reward when the evaluator interact with an environment.</p></li>
<li><p>reward_max: The max reward</p></li>
<li><p>reward_min: The min reward</p></li>
</ul>
</div></blockquote>
</li>
<li><p>log/learner</p>
<blockquote>
<div><p>In learner folder, there is a file named <code class="docutils literal notranslate"><span class="pre">learner_logger.txt</span></code> including some information about the learner.</p>
<p>The following information is generated during PPO training</p>
<ul>
<li><p>learner config and model:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">config</span><span class="p">:</span>
    <span class="n">cfg_type</span><span class="p">:</span> <span class="n">BaseLearnerDict</span>
    <span class="n">dataloader</span><span class="p">:</span>
    <span class="n">num_workers</span><span class="p">:</span> <span class="mi">0</span>
    <span class="n">hook</span><span class="p">:</span>
        <span class="n">load_ckpt_before_run</span><span class="p">:</span> <span class="s1">&#39;&#39;</span>
        <span class="n">log_show_after_iter</span><span class="p">:</span> <span class="mi">100</span>
        <span class="n">save_ckpt_after_iter</span><span class="p">:</span> <span class="mi">10000</span>
        <span class="n">save_ckpt_after_run</span><span class="p">:</span> <span class="n">true</span>
    <span class="n">train_iterations</span><span class="p">:</span> <span class="mi">1000000000</span>
<span class="n">FCValueAC</span><span class="p">(</span>
<span class="p">(</span><span class="n">_act</span><span class="p">):</span> <span class="n">ReLU</span><span class="p">()</span>
<span class="p">(</span><span class="n">_encoder</span><span class="p">):</span> <span class="n">FCEncoder</span><span class="p">(</span>
    <span class="p">(</span><span class="n">act</span><span class="p">):</span> <span class="n">ReLU</span><span class="p">()</span>
    <span class="p">(</span><span class="n">init</span><span class="p">):</span> <span class="n">Linear</span><span class="p">(</span><span class="n">in_features</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">out_features</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="p">(</span><span class="n">main</span><span class="p">):</span> <span class="n">ResFCBlock</span><span class="p">(</span>
    <span class="p">(</span><span class="n">act</span><span class="p">):</span> <span class="n">ReLU</span><span class="p">()</span>
    <span class="p">(</span><span class="n">fc1</span><span class="p">):</span> <span class="n">Sequential</span><span class="p">(</span>
        <span class="p">(</span><span class="mi">0</span><span class="p">):</span> <span class="n">Linear</span><span class="p">(</span><span class="n">in_features</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">out_features</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="p">(</span><span class="mi">1</span><span class="p">):</span> <span class="n">ReLU</span><span class="p">()</span>
    <span class="p">)</span>
    <span class="p">(</span><span class="n">fc2</span><span class="p">):</span> <span class="n">Sequential</span><span class="p">(</span>
        <span class="p">(</span><span class="mi">0</span><span class="p">):</span> <span class="n">Linear</span><span class="p">(</span><span class="n">in_features</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">out_features</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="p">(</span><span class="n">_actor</span><span class="p">):</span> <span class="n">Sequential</span><span class="p">(</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">):</span> <span class="n">Linear</span><span class="p">(</span><span class="n">in_features</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">out_features</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="p">(</span><span class="mi">1</span><span class="p">):</span> <span class="n">ReLU</span><span class="p">()</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">):</span> <span class="n">Linear</span><span class="p">(</span><span class="n">in_features</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">out_features</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="n">ReLU</span><span class="p">()</span>
    <span class="p">(</span><span class="mi">4</span><span class="p">):</span> <span class="n">Linear</span><span class="p">(</span><span class="n">in_features</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">out_features</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">)</span>
<span class="p">(</span><span class="n">_critic</span><span class="p">):</span> <span class="n">Sequential</span><span class="p">(</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">):</span> <span class="n">Linear</span><span class="p">(</span><span class="n">in_features</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">out_features</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="p">(</span><span class="mi">1</span><span class="p">):</span> <span class="n">ReLU</span><span class="p">()</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">):</span> <span class="n">Linear</span><span class="p">(</span><span class="n">in_features</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">out_features</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="p">(</span><span class="mi">3</span><span class="p">):</span> <span class="n">ReLU</span><span class="p">()</span>
    <span class="p">(</span><span class="mi">4</span><span class="p">):</span> <span class="n">Linear</span><span class="p">(</span><span class="n">in_features</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span> <span class="n">out_features</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">bias</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>learner information:</p>
<blockquote>
<div><p>Grid table:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 9%" />
<col style="width: 12%" />
<col style="width: 13%" />
<col style="width: 12%" />
<col style="width: 14%" />
<col style="width: 13%" />
<col style="width: 11%" />
<col style="width: 11%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Name</p></td>
<td><p>cur_lr_val</p></td>
<td><p>total_loss_val</p></td>
<td><p>policy_loss_val</p></td>
<td><p>value_loss_val</p></td>
<td><p>entropy_loss_val</p></td>
<td><p>adv_abs_max_val</p></td>
<td><p>approx_kl_val</p></td>
<td><p>clipfrac_val</p></td>
</tr>
<tr class="row-even"><td><p>Value</p></td>
<td><p>0.001000</p></td>
<td><p>-0.421546</p></td>
<td><p>-4.209646</p></td>
<td><p>10.286912</p></td>
<td><p>0.691280</p></td>
<td><p>6.281444</p></td>
<td><p>0.000000</p></td>
<td><p>0.000000</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 11%" />
<col style="width: 8%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 12%" />
<col style="width: 11%" />
<col style="width: 10%" />
<col style="width: 9%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Name</p></td>
<td><p>train_time_val</p></td>
<td><p>cur_lr_val</p></td>
<td><p>total_loss_val</p></td>
<td><p>policy_loss_val</p></td>
<td><p>value_loss_val</p></td>
<td><p>entropy_loss_val</p></td>
<td><p>adv_abs_max_val</p></td>
<td><p>approx_kl_val</p></td>
<td><p>clipfrac_val</p></td>
</tr>
<tr class="row-even"><td><p>Value</p></td>
<td><p>0.004722</p></td>
<td><p>0.001000</p></td>
<td><p>-0.888706</p></td>
<td><p>-4.184078</p></td>
<td><p>9.948707</p></td>
<td><p>0.686777</p></td>
<td><p>7.128615</p></td>
<td><p>0.005156</p></td>
<td><p>0.000000</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>serial</p>
<blockquote>
<div><p>Save the related information of buffer, collector, evaluator, learner, to a file named <code class="docutils literal notranslate"><span class="pre">events.out.tfevents</span></code>, and it can be used by <strong>tensorboard</strong>.</p>
<p>nerveX saves all tensorboard files in serial folder as <strong>one tensorboard file</strong>, rather than respective folders. Because when running a lot of experiments, 4*n respective tensorboard files is not easy to discriminate. So in serial mode, all tensorboard files are in the serial folder. (However, in parallel mode, tensorboard files are in respective folder)</p>
</div></blockquote>
</li>
<li><p>ckpt_baseLearner</p>
<blockquote>
<div><p>The folder is named in the way of “ckpt_baseLearner” + creation time (e.g. <code class="docutils literal notranslate"><span class="pre">&quot;Mon_May_24_12_08_43_2021&quot;</span></code>).</p>
<dl class="simple">
<dt>In this folder, there are model parameter checkpoints:</dt><dd><ul class="simple">
<li><p>ckpt_best.pth.tar. Best model which reached highest evaluation score.</p></li>
<li><p>“iteration” + iter number. Periodic model save.</p></li>
</ul>
</dd>
</dl>
<p>You can use <code class="docutils literal notranslate"><span class="pre">torch.load('ckpt_best.pth.tar')</span></code> to load checkpoint.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="parallel-mode">
<h2>Parallel mode<a class="headerlink" href="#parallel-mode" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>./
├── log
│   ├── buffer
│   │   ├── agent_buffer_tb_logger
│   │   └── agent_buffer_logger.txt
│   ├── collector
│   │   ├── 3b5f970b-0ff0-4394-bf8a-de43cadfd2b6_196408_logger.txt
│   │   ├── XXX_X_logger.txt
│   │   └── ...
│   ├── evaluator
│   │   ├── 3e483ac6-4a6e-4787-bfef-08f7cc3f14b8_300574_logger.txt
│   │   ├── XXX_X_logger.txt
│   │   └── ...
│   ├── learner
│   │   ├── learner_tb_logger
│   │   └── learner_logger.txt
│   ├── commander
│   │   ├── commander_tb_logger
│   │   ├── commander_collector_logger.txt
│   │   ├── commander_evaluator_logger.txt
│   │   └── commander_logger.txt
│   └── coordinator_logger.txt
├── ckpt_baseLearner_ (ckpt_BaseLearner_Mon_May_24_12_08_43_2021)
│   └── iteration_.pth.tar (iteration_1000.pth.tar)
├── data
│   ├── env_ (env_0_0aa0d0b4-c20c-11eb-9cd2-dd796209c19b)
│   └── env_ (env_0_0a9e0488-c20c-11eb-9cd2-dd796209c19b) ...
└── policy
    └── policy_0ee6e602-9d10-4aff-84a3-980a726430f7_222729
</pre></div>
</div>
<p>In parallel mode, the log folder has five subfolders, including buffer, collector, evaluator, learner, commander and a file coordinator_logger.txt</p>
<ul>
<li><p>log/buffer</p>
<blockquote>
<div><p>In buffer folder, there is a file named <code class="docutils literal notranslate"><span class="pre">agent_buffer_logger.txt</span></code> and a subfolder named agent_buffer_tb_logger.</p>
<p>The data in <code class="docutils literal notranslate"><span class="pre">agent_buffer_logger.txt</span></code> is the same as that in serial mode.</p>
<p>In agent_buffer_tb_logger folder, there is a <a href="#id1"><span class="problematic" id="id2">``</span></a>events.out.tfevents``tensorboard file.</p>
</div></blockquote>
</li>
<li><p>log/collector</p>
<blockquote>
<div><p>In collector folder, there are a lot of <code class="docutils literal notranslate"><span class="pre">collector_logger.txt</span></code> files including informations about the collector when collector interacts with the environment. There are a lot of collectors in parallel mode, so there are a lot of <code class="docutils literal notranslate"><span class="pre">collector_logger.txt</span></code> files record informations.</p>
<p>The data in <code class="docutils literal notranslate"><span class="pre">collector_logger.txt</span></code> is the same as serial mode.</p>
</div></blockquote>
</li>
<li><p>log/evaluator</p>
<blockquote>
<div><p>In evaluator folder, there are a lot of <code class="docutils literal notranslate"><span class="pre">evaluator_logger.txt</span></code> files including informations about the evaluator when evaluator interacts with the environment. There are a lot of evaluators in parallel mode, so there are a lot of <code class="docutils literal notranslate"><span class="pre">evaluator_logger.txt</span></code> files record informations.</p>
<p>The data in <code class="docutils literal notranslate"><span class="pre">evaluator_logger.txt</span></code> is the same as serial mode.</p>
</div></blockquote>
</li>
<li><p>log/learner</p>
<blockquote>
<div><p>In learner folder, there is a file named <code class="docutils literal notranslate"><span class="pre">learner_logger.txt</span></code> and a subfolder named learner_tb_logger.</p>
<p>The data in <code class="docutils literal notranslate"><span class="pre">learner_logger.txt</span></code> is the same as serial mode.</p>
<p>In learner_tb_logger folder, there are some files <code class="docutils literal notranslate"><span class="pre">events.out.tfevents</span></code>, and it can be used by tensorboard.</p>
<p>In parallel mode, it’s too difficult to put all tb files in the same folder, so each tb file is placed in a folder with its corresponding text logger file. It’s different from th eserial mode. In serial mode, we put all tb files in serial folder.</p>
</div></blockquote>
</li>
<li><p>log/commander</p>
<blockquote>
<div><p>In commander folder, there are three files: <code class="docutils literal notranslate"><span class="pre">commander_collector_logger.txt</span></code>, <code class="docutils literal notranslate"><span class="pre">commander_evaluator_logger.txt</span></code>, <code class="docutils literal notranslate"><span class="pre">commander_logger.txt</span></code> and a subfolder named learner_tb_logger.</p>
<p>In <code class="docutils literal notranslate"><span class="pre">commander_collector_logger.txt</span></code>, there are some collector’s information the coordinator needs. Such as train_iter, step_count, avg_step_per_episode, avg_time_per_step, avg_time_per_episode, reward_mean, reward_std</p>
<p>In <code class="docutils literal notranslate"><span class="pre">commander_evaluator_logger.txt</span></code>, there are some evaluator’s information the coordinator needs. Such as train_iter, step_count, avg_step_per_episode, avg_time_per_step, avg_time_per_episode, reward_mean, reward_std</p>
<p>In <code class="docutils literal notranslate"><span class="pre">commander_logger.txt</span></code>, there are some information when the coordinator will be end.</p>
<p>There are so many files in the collector and evaluator folder that it seems inconvenient. So we made a synthesis in the commander. This is the reason why there are collector and evaluator folders in parallel mode but the commander folder has collector text file and evaluator text file.</p>
</div></blockquote>
</li>
<li><p>ckpt_baseLearner :</p>
<blockquote>
<div><p>Parallel mode’s checkpoint folder is the same as serial mode’s.</p>
<p>The folder is named in the way of “ckpt_baseLearner” + creation time (e.g. <code class="docutils literal notranslate"><span class="pre">&quot;Mon_May_24_12_08_43_2021&quot;</span></code>).</p>
<dl class="simple">
<dt>In this folder, there are model parameter checkpoints:</dt><dd><ul class="simple">
<li><p>ckpt_best.pth.tar. Best model which reached highest evaluation score.</p></li>
<li><p>“iteration” + iter number. Periodic model save.</p></li>
</ul>
</dd>
</dl>
<p>You can use <code class="docutils literal notranslate"><span class="pre">torch.load('ckpt_best.pth.tar')</span></code> to load checkpoint.</p>
</div></blockquote>
</li>
<li><p>data</p>
<blockquote>
<div><p>In this folder, there are a lot of data files. In serial mode, all datas are stored in memory; While in parallel mode, data is seperated into meta data and file data: meta data is still stored in memory, but file data is stored in file system.</p>
</div></blockquote>
</li>
<li><p>policy</p>
<blockquote>
<div><p>In this folder, there is a policy file. The file includes policy parameters. It is used to send learner’s latest parameters to collector to update. In parallel mode, the coordinator uses the path of the policy file to register the collector, the collector uses data in policy file as its own parameters.</p>
</div></blockquote>
</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="multi_buffer.html" class="btn btn-neutral float-right" title="How to use multiple buffers?" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="customization1_dynamic_update_step.html" class="btn btn-neutral float-left" title="Customization 1: Dynamic Update Step" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, X-Lab.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>